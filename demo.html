<!DOCTYPE html>
<html>
<head>
	<meta charset='utf-8'>
	<title>XMLHttpRequest() 예제 파일</title>
</head>
<body>
	<p>time : <span id='time'></span></p>
	<input type='button' id='execute' value='execute'/>
	<script type="text/javascript">
		document.querySelector('input').addEventListener('click', function(event){
			//XMLHttpRequest 객체를 생성
			var xhr = new XMLHttpRequest();
			//접속하려는 대상 지정. form태그의 메소드와 대응.
			xhr.open('GET', 'http://127.0.0.1:8080/test.jsp');
			//onreadystatechange 이벤트는 서버와의 통신이 끝났을때 호출.
			xhr.onreadystatechange = function(){
				//readyState는 통신의 현재 상태를 알려준다. 4 = 통신완료
				//status는 HTTP 통신의 결과를 의미한다. 200 = 통신성공
				//responseText프로퍼티는 서버에서 전송한 데이터를 담고 있다.
				if(xhr.readyState === 4 && xhr.status === 200){
					document.querySelector('#time').innerHTML = xhr.responseText;
				}
			}
			xhr.send();
		});
	</script>
</body>
</html>