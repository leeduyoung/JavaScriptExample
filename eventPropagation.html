<!DOCTYPE html>
<html>
<head>
	<meta charset='utf-8'>
	<title>이벤트 전파</title>
	<style>
		html{border:5px solid red; padding:30px;}
		body{border:5px solid green; padding:30px;}
		fieldset{border:5px solid blue; padding:30px;}
		input{border:5px solid black; padding:30px;}
	</style>
</head>
<body>
	<fieldset>
		<legend>event propagation</legend>
		<input type='button' id='target' value='target'/>
	</fieldset>
	<script type="text/javascript">
		function handler(event){
			var phases = ['capturing', 'target', 'bubbling'];
			document.write(event.target.nodeName, this.nodeName, phases[event.eventPhase-1] + "<br/>");
		}
		//이벤트를 중간에 가로막기
		function stophandler(event){
			var phases = ['capturing', 'target', 'bubbling'];
			document.write(event.target.nodeName, this.nodeName, phases[event.eventPhase-1] + "<br/>");
			event.stopPropagation();
		}

		document.getElementById('target').addEventListener('click', handler, false);
		document.querySelector('fieldset').addEventListener('click', handler, false);
		document.querySelector('body').addEventListener('click', stophandler, false);
		document.querySelector('html').addEventListener('click', handler, false);
	</script>
</body>
</html>